# Ribbon介绍

![image-20200725173628997](Ribbon.assets/image-20200725173628997.png)

![image-20200725173934796](Ribbon.assets/image-20200725173934796.png)

# 集中LB和进程LB

![image-20200725174035514](Ribbon.assets/image-20200725174035514.png)



![image-20200725174042272](Ribbon.assets/image-20200725174042272.png)

![image-20200725174133069](Ribbon.assets/image-20200725174133069.png)

![image-20200725174201430](Ribbon.assets/image-20200725174201430.png)

![image-20200725174211227](Ribbon.assets/image-20200725174211227.png)

![image-20200725174238173](Ribbon.assets/image-20200725174238173.png)

# 负载均衡策略

![image-20200725180439841](Ribbon.assets/image-20200725180439841.png)

![image-20200725180612546](Ribbon.assets/image-20200725180612546.png)

# 实现代码

![image-20200725180927503](Ribbon.assets/image-20200725180927503.png)



![image-20200725181312334](Ribbon.assets/image-20200725181312334.png)

![image-20200725181323170](Ribbon.assets/image-20200725181323170.png)

![image-20200725185625347](Ribbon.assets/image-20200725185625347.png)

![image-20200725190535484](Ribbon.assets/image-20200725190535484.png)

![image-20200725191511499](Ribbon.assets/image-20200725191511499.png)



# 手写轮询算法

所有服务端加入一个接口  返回端口号

![image-20200725193710684](Ribbon.assets/image-20200725193710684.png)

# 客户端注释注解

![image-20200725193821197](Ribbon.assets/image-20200725193821197.png)

# 获得所有可用的服务实例

![image-20200725201737631](Ribbon.assets/image-20200725201737631.png)

# 获得请求次数  计算下标

![image-20200725201749096](Ribbon.assets/image-20200725201749096.png)

# 根据下标获取服务的url

![image-20200725201814009](Ribbon.assets/image-20200725201814009.png)

# test

![image-20200726003846698](Ribbon.assets/image-20200726003846698.png)

![image-20200726003857751](Ribbon.assets/image-20200726003857751.png)